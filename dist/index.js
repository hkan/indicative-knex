!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.indicative={})}(this,function(t){"use strict";var e=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.unique=function(t){return function(r,n,i,o,u){var a=e(o,3),f=a[0],l=a[1],s=void 0===l?n:l,c=a[2],d=void 0===c?null:c;if("string"!=typeof f||!f.length)return Promise.reject("A proper table name should be provided.");var v=u(r,n);if(!v||"string"==typeof v&&0===v.trim().length)return Promise.resolve("validation passed");var p=t.table(f).where(s,v);return d&&p.whereNot("id",d),p.count("id as count").then(function(t){return"0"===t[0].count.toString()?"validation passed":Promise.reject(i)})}},t.exists=function(t){return function(e,n,i,o,u){var a=r(o,2),f=a[0],l=a[1],s=void 0===l?n:l;if("string"!=typeof f||!f.length)return Promise.reject("A proper table name should be provided.");var c=u(e,n);return!c||"string"==typeof c&&0===c.trim().length?Promise.resolve("validation passed"):t.table(f).where(s,c).count("id as count").then(function(t){return"0"!==t[0].count.toString()?"validation passed":Promise.reject(i)})}},Object.defineProperty(t,"__esModule",{value:!0})});
